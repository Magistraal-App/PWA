function debounce(t,a=500){let e;return(...i)=>{clearTimeout(e),e=setTimeout(()=>{t(...i)},a)}}function unique(t){return[...new Set(t)]}function trim(t,a=" "){let e=0,i=t.length;for(;e<i&&t[e]===a;)++e;for(;i>e&&t[i-1]===a;)--i;return e>0||i<t.length?t.substring(e,i):t}function random(t,a){return Math.floor(Math.random()*(a-t+1)+t)}function addLeadingZero(t){return(t<10?"0":"")+t}function capitalizeFirst(t){return t.charAt(0).toUpperCase()+t.slice(1)}function addToObject(t,a,e,i){let n={},s=0;for(let o in t)t.hasOwnProperty(o)&&(s===i&&a&&e&&(n[a]=e),n[o]=t[o],s++);return!i&&a&&e&&(n[a]=e),n}$.fn.value=function(){if(this.hasClass("input-tags")){let t=this.closest(".input-tags-wrapper"),a=Object.keys(t.data("tags")||{});return a}return this.val()},$(document).on("click",function(t){0==$(t.target).closest('[data-magistraal="nav-toggler"]').length&&magistraalStorage.get("nav_active")&&(t.preventDefault(),magistraal.nav.close())}),$.fn.addTag=function(t,a){let e=this.closest(".input-tags-wrapper"),i=e.find(".input-tags-list");void 0===a&&(a=t);let n=e.data("tags")||{};if(void 0===n[t])return $(`<li class="input-tags-tag" value="${t}">${a}</li>`).insertBefore(i.find(".input-tags")),n[t]=a,e.data("tags",n),this},$.fn.removeTag=function(t){let a=this.closest(".input-tags-wrapper"),e=a.find(".input-tags-list"),i=a.data("tags")||{};if(void 0!==i[t])return e.find(`.input-tags-tag[value="${t}"]`).remove(),delete i[t],a.data("tags",i),this},$.fn.setTags=function(t){let a=this.closest(".input-tags-wrapper"),e=a.find(".input-tags-list");e.find(".input-tags-tag").remove(),a.data("tags",{}),$.each(t,function(t,a){this.addTag(t,a)})},$(document).on("magistraal.ready",function(){$(".input-search").each(function(){new magistraal.inputs.searchInput($(this))}),$(".input-tags").each(function(){new magistraal.inputs.tagsInput($(this))})}),$(document).on("input","[data-magistraal-search-target]",function(){let t=$(this),a=magistraal.element.get(t.attr("data-magistraal-search-target")),e=a.find("[data-search]"),i=$(this).val().toLowerCase();if(0==i.length&&(void 0===t.attr("data-magistraal")||"page-search"!=t.attr("data-magistraal")))return e.hide(),!1;e.each(function(){let t=$(this);t.attr("data-search").toLowerCase().includes(i)?t.show():t.hide()})}),$(document).on("mouseenter","[data-magistraal-tooltip]",function(){magistraal.element.get("tooltip").show();let t=magistraal.locale.translate(`tooltip.hint.${$(this).attr("data-magistraal-tooltip")}`,$(this).attr("data-magistraal-tooltip"));magistraal.element.get("tooltip").text(t)}).on("mousemove",function(t){if(void 0===$(t.target).attr("data-magistraal-tooltip")&&0==$(t.target).parents("[data-magistraal-tooltip]").length)return magistraal.element.get("tooltip").hide(),!0;magistraal.element.get("tooltip").show(),magistraal.element.get("tooltip").css({top:t.pageY,left:t.pageX})}),$(document).on("click",'[data-magistraal="popup-backdrop"]',function(t){if($("[data-magistraal-popup].show").length>0)return magistraal.popup.close($("[data-magistraal-popup].show").last().attr("data-magistraal-popup")),!1}),$(document).on("click","[data-popup-action]",function(t){t.preventDefault();let a=$(this),e=a.attr("data-popup-action"),i=a.parents("[data-magistraal-popup]").first().attr("data-magistraal-popup");switch(e){case"confirm":case"cancel":magistraal.popup.close(i)}}),$(window).on("hashchange",function(){magistraal.page.load(window.location.hash.substring(1))});